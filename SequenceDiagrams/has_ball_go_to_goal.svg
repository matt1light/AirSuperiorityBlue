<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="551px" preserveAspectRatio="none" style="width:671px;height:551px;" version="1.1" viewBox="0 0 671 551" width="671px" zoomAndPan="magnify"><defs><filter height="300%" id="f1osn36x2msw3w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1osn36x2msw3w)" height="426.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f1osn36x2msw3w)" height="317.5938" style="stroke:#000000;stroke-width:2.0;" width="647" x="10" y="173.8281"/><rect fill="#FFFFFF" height="201.9297" style="stroke:none;stroke-width:1.0;" width="647" x="10" y="289.4922"/><rect fill="#FFFFFF" filter="url(#f1osn36x2msw3w)" height="185.9297" style="stroke:#000000;stroke-width:2.0;" width="627" x="20" y="298.4922"/><rect fill="#FFFFFF" height="100.5313" style="stroke:none;stroke-width:1.0;" width="627" x="20" y="383.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="84" x2="84" y1="40.2969" y2="508.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="394.5" x2="394.5" y1="40.2969" y2="508.4219"/><rect fill="#FEFECE" filter="url(#f1osn36x2msw3w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="37" y="24.9951">PythonRobot</text><rect fill="#FEFECE" filter="url(#f1osn36x2msw3w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="30" y="507.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="37" y="527.417">PythonRobot</text><rect fill="#FEFECE" filter="url(#f1osn36x2msw3w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="99" x="343.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="350.5" y="24.9951">CoppeliaSim</text><rect fill="#FEFECE" filter="url(#f1osn36x2msw3w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="99" x="343.5" y="507.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="350.5" y="527.417">CoppeliaSim</text><rect fill="#FFFFFF" filter="url(#f1osn36x2msw3w)" height="426.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="71.4297"/><polygon fill="#A80036" points="378,67.4297,388,71.4297,378,75.4297,382,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="66.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="104" y="66.3638">simxReadProximitySensor()</text><polygon fill="#A80036" points="95,96.5625,85,100.5625,95,104.5625,91,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89" x2="389" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="95.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="114" y="95.4966">return proxDetectionState, detectedPoint</text><polygon fill="#A80036" points="378,125.6953,388,129.6953,378,133.6953,382,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="124.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="104" y="124.6294">simxReadVisionSensor()</text><polygon fill="#A80036" points="95,154.8281,85,158.8281,95,162.8281,91,158.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89" x2="389" y1="158.8281" y2="158.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="153.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="114" y="153.7622">return goalLineSensorData</text><path d="M10,173.8281 L74,173.8281 L74,180.8281 L64,190.8281 L10,190.8281 L10,173.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="317.5938" style="stroke:#000000;stroke-width:2.0;" width="647" x="10" y="173.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="25" y="186.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="89" y="186.0386">[proxDetectionState and detectedPoint[2] &lt; 0.15]</text><polygon fill="#A80036" points="378,228.2266,388,232.2266,378,236.2266,382,232.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="232.2266" y2="232.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="227.1606">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="104" y="227.1606">simxSetJointTargetVelocity(rightJoint, 5)</text><path d="M405,195.9609 L405,250.9609 L606,250.9609 L606,205.9609 L596,195.9609 L405,195.9609 " fill="#FBFB77" filter="url(#f1osn36x2msw3w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M596,195.9609 L596,205.9609 L606,205.9609 L596,195.9609 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="411" y="213.0278">We're facing the ball but not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="411" y="228.1606">touching it so we need to go</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="411" y="243.2935">to the ball</text><polygon fill="#A80036" points="378,277.4922,388,281.4922,378,285.4922,382,281.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="281.4922" y2="281.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="276.4263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="104" y="276.4263">simxSetJointTargetVelocity(leftJoint, 5)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="657" y1="290.4922" y2="290.4922"/><path d="M20,298.4922 L84,298.4922 L84,305.4922 L74,315.4922 L20,315.4922 L20,298.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="185.9297" style="stroke:#000000;stroke-width:2.0;" width="627" x="20" y="298.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="311.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="212" x="99" y="310.7026">[goalLineSensorData[0][9] &lt; 0.3]</text><polygon fill="#A80036" points="378,337.7578,388,341.7578,378,345.7578,382,341.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="341.7578" y2="341.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="336.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="104" y="336.6919">simxSetJointTargetVelocity(rightJoint, 5)</text><path d="M405,320.625 L405,345.625 L633,345.625 L633,330.625 L623,320.625 L405,320.625 " fill="#FBFB77" filter="url(#f1osn36x2msw3w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M623,320.625 L623,330.625 L633,330.625 L623,320.625 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="411" y="337.6919">Full speed ahead to the goal line</text><polygon fill="#A80036" points="378,371.8906,388,375.8906,378,379.8906,382,375.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="375.8906" y2="375.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="370.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="104" y="370.8247">simxSetJointTargetVelocity(leftJoint, 5)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="647" y1="384.8906" y2="384.8906"/><polygon fill="#A80036" points="378,423.1563,388,427.1563,378,431.1563,382,427.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="427.1563" y2="427.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91" y="422.0903">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="104" y="422.0903">simxSetJointTargetVelocity(rightJoint, -0.5)</text><path d="M405,390.8906 L405,445.8906 L613,445.8906 L613,400.8906 L603,390.8906 L405,390.8906 " fill="#FBFB77" filter="url(#f1osn36x2msw3w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M603,390.8906 L603,400.8906 L613,400.8906 L603,390.8906 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="411" y="407.9575">We have the ball but are not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="411" y="423.0903">facing the goal so we need to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="411" y="438.2231">turn the robot to face it</text><polygon fill="#A80036" points="378,472.4219,388,476.4219,378,480.4219,382,476.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="84" x2="384" y1="476.4219" y2="476.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="91" y="471.356">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="113" y="471.356">simxSetJointTargetVelocity(leftJoint, 0.5)</text><!--MD5=[c7c20cd39cbaf279ad98e9a4934501ba]
@startuml
autonumber

PythonRobot -> CoppeliaSim: simxReadProximitySensor()

activate CoppeliaSim
CoppeliaSim -> PythonRobot: return proxDetectionState, detectedPoint
PythonRobot -> CoppeliaSim: simxReadVisionSensor()
CoppeliaSim -> PythonRobot: return goalLineSensorData

alt proxDetectionState and detectedPoint[2] < 0.15
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(rightJoint, 5)
note right
We're facing the ball but not
touching it so we need to go
to the ball
end note
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(leftJoint, 5)
else 
alt goalLineSensorData[0][9] < 0.3
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(rightJoint, 5)
note right
Full speed ahead to the goal line
end note
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(leftJoint, 5)
else
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(rightJoint, -0.5)
note right
We have the ball but are not
facing the goal so we need to
turn the robot to face it
end note
PythonRobot -> CoppeliaSim: simxSetJointTargetVelocity(leftJoint, 0.5)
end
end

deactivate CoppeliaSim
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>